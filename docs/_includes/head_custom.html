<!-- JSON-LD Schema for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "{{ site.url }}#website",
      "name": "{{ site.title }}",
      "url": "{{ site.url }}",
      "description": "{{ site.description }}",
      "inLanguage": "zh-TW",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ site.url }}/search?q={search_term}",
        "query-input": "required name=search_term"
      }
    },
    {
      "@type": "Organization",
      "@id": "{{ site.url }}#organization",
      "name": "{{ site.title }}",
      "url": "{{ site.url }}",
      "description": "{{ site.description }}"
    },
    {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}#webpage",
      "url": "{{ page.url | absolute_url }}",
      "name": "{{ page.title | default: site.title }}",
      "description": "{{ page.description | default: site.description }}",
      "inLanguage": "zh-TW",
      "isPartOf": { "@id": "{{ site.url }}#website" },
      "datePublished": "{{ page.date | default: site.time | date_to_xmlschema }}",
      "dateModified": "{{ page.last_modified_date | default: page.date | default: site.time | date_to_xmlschema }}",
      "speakable": {
        "@type": "SpeakableSpecification",
        "cssSelector": [
          ".main-content h1",
          ".main-content > p:first-of-type",
          ".key-answer",
          ".key-takeaway"
        ]
      }
    }
    {%- if page.layout == 'default' and page.title -%}
    ,{
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "首頁",
          "item": "{{ site.url }}"
        }
        {%- if page.parent -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ page.parent }}",
          "item": "{{ page.parent | slugify | prepend: site.url | append: '/' }}"
        }
        ,{
          "@type": "ListItem",
          "position": 3,
          "name": "{{ page.title }}",
          "item": "{{ page.url | absolute_url }}"
        }
        {%- else -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ page.title }}",
          "item": "{{ page.url | absolute_url }}"
        }
        {%- endif -%}
      ]
    }
    {%- endif -%}
  ]
}
</script>
